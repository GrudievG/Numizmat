<div class="container" ng-controller="ProfileController as profile">
	<div class="row">
		<div class="col-md-8 col-md-offset-2">
			<div class="card-container">
				<h1 class="text-center profile-caption">Учётные данные</h1>

				<form class="form-horizontal smooth-change" role="form" ng-if="!profile.formEdit && !profile.changePassword && !profile.changePassSuccess">
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Имя:</label>
				    	<div class="col-sm-4">
				      		<p class="form-control-static">{{profile.user.name}}</p>
				    	</div>
				    	<label class="col-sm-2 control-label">Email:</label>
				    	<div class="col-sm-4">
				      		<p class="form-control-static">{{profile.user.email}}</p>
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Фамилия:</label>
				    	<div class="col-sm-4">
				      		<p class="form-control-static">{{profile.user.surname}}</p>
				    	</div>
				    	<label class="col-sm-2 control-label">Телефон:</label>
				    	<div class="col-sm-4">
				      		<p class="form-control-static">{{profile.user.tel}}</p>
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Страна:</label>
				    	<div class="col-sm-4">
				      		<p class="form-control-static">{{profile.user.country}}</p>
				    	</div>
				    	<label class="col-sm-2 control-label">Почт. индекс:</label>
				    	<div class="col-sm-4">
				    		<p class="form-control-static">{{profile.user.postIndex}}</p>
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Область:</label>
				    	<div class="col-sm-10">
				    		<p class="form-control-static">{{profile.user.region}}</p>
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Город:</label>
				    	<div class="col-sm-10">
				    		<p class="form-control-static">{{profile.user.locality}}</p>
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Адрес:</label>
				    	<div class="col-sm-10">
				      		<p class="form-control-static">{{profile.user.address}}</p>
				    	</div>
				  	</div>
				  	<div class="form-group">
				  		<div class="col-xs-12 error-message"></div>
				  	</div>
				  	<div class="form-group">
				    	<div class="col-sm-6">
				      		<button type="button" class="btn btn-primary pull-right" ng-click="profile.changePass()">Сменить пароль</button>
				    	</div>
				    	<div class="col-sm-6">
				      		<button type="button" class="btn btn-primary pull-left" ng-click="profile.editForm()">Редактировать учётную запись</button>
				    	</div>
				  	</div>
				</form>

				<form class="form-horizontal smooth-change" role="form" name="profileForm" ng-if="profile.formEdit">
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Имя:</label>
				    	<div class="col-sm-4">
				      		<input type="text" class="form-control" name="inputName" ng-model="profile.user.name" required ng-class="{'incorrect-input': profileForm.inputName.$invalid && !profileForm.inputName.$pristine, 'correct-input': profileForm.inputName.$valid && !profileForm.inputName.$pristine}" ng-maxlength="36" ng-minlength="1">
				    	</div>
				    	<label class="col-sm-2 control-label">Email:</label>
				    	<div class="col-sm-4">
				      		<input type="email" class="form-control" name="inputEmail" ng-model="profile.user.email" required ng-class="{'incorrect-input': profileForm.inputEmail.$invalid && !profileForm.inputEmail.$pristine, 'correct-input': profileForm.inputEmail.$valid && !profileForm.inputEmail.$pristine}">
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Фамилия:</label>
				    	<div class="col-sm-4">
				      		<input type="text" class="form-control" name="inputSurName" ng-model="profile.user.surname" required ng-class="{'incorrect-input': profileForm.inputSurName.$invalid && !profileForm.inputSurName.$pristine, 'correct-input': profileForm.inputSurName.$valid && !profileForm.inputSurName.$pristine}" ng-maxlength="36" ng-minlength="1">
				    	</div>
				    	<label class="col-sm-2 control-label">Телефон:</label>
				    	<div class="col-sm-4">
				      		<input type="number" class="form-control" name="inputTel" ng-model="profile.user.tel" required ng-class="{'incorrect-input': profileForm.inputTel.$invalid && !profileForm.inputTel.$pristine, 'correct-input': profileForm.inputTel.$valid && !profileForm.inputTel.$pristine}" ng-maxlength="20" ng-minlength="10">
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Страна:</label>
				    	<div class="col-sm-4">
				      		<select class="form-control" id="inputCountry" name="inputCountry" required ng-class="{'incorrect-input': profileForm.inputCountry.$invalid && !profileForm.inputCountry.$pristine, 'correct-input': profileForm.inputCountry.$valid && !profileForm.inputCountry.$pristine}" ng-model="profile.user.country">
	                  			<option ng-repeat="country in profile.countries | orderBy">{{country}}</option>
	                		</select>
				    	</div>
				    	<label class="col-sm-2 control-label">Почт. индекс:</label>
				    	<div class="col-sm-4">
				    		<input type="text" class="form-control" name="inputPostIndex" ng-model="profile.user.postIndex" ng-class="{'incorrect-input': profileForm.inputPostIndex.$invalid && !profileForm.inputPostIndex.$pristine, 'correct-input': profileForm.inputPostIndex.$valid && !profileForm.inputPostIndex.$pristine}" ng-maxlength="24" ng-minlength="1">
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Область:</label>
				    	<div class="col-sm-4">
				    		<input type="text" class="form-control" name="inputRegion" ng-model="profile.user.region" required ng-class="{'incorrect-input': profileForm.inputRegion.$invalid && !profileForm.inputRegion.$pristine, 'correct-input': profileForm.inputRegion.$valid && !profileForm.inputRegion.$pristine}" ng-maxlength="36" ng-minlength="1">
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Город:</label>
				    	<div class="col-sm-4">
				      		<input type="text" class="form-control" name="inputLocality" ng-model="profile.user.locality" required ng-class="{'incorrect-input': profileForm.inputLocality.$invalid && !profileForm.inputLocality.$pristine, 'correct-input': profileForm.inputLocality.$valid && !profileForm.inputLocality.$pristine}" ng-maxlength="36" ng-minlength="1">
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-2 control-label">Адрес:</label>
				    	<div class="col-sm-4">
				      		 <input type="text" class="form-control" name="inputAddress" ng-model="profile.user.address" required ng-class="{'incorrect-input': profileForm.inputAddress.$invalid && !profileForm.inputAddress.$pristine, 'correct-input': profileForm.inputAddress.$valid && !profileForm.inputAddress.$pristine}" ng-maxlength="48" ng-minlength="4">
				    	</div>
				  	</div>
				  	<div class="form-group">
					  	<div class="col-xs-12 error-message">
				            <div class="alert alert-danger toggle" ng-if="profile.errorMessage">
				              	<span><strong>Ошибка!</strong> {{profile.errorMessage}}</span>
				            </div>
				        </div>
			        </div>
				  	<div class="form-group">
				    	<div class="col-sm-5 col-sm-offset-4">
				      		<button type="button" class="btn btn-success pull-left" ng-click="profile.editForm()" ng-disabled="profileForm.$invalid">Сохранить изменения</button>
				      		<button type="button" class="btn btn-danger pull-right" ng-click="profile.cancelChanges('profile')">Отмена</button>
				    	</div>
				  	</div>
				</form>

				<form class="form-horizontal smooth-change" role="form" name="passwordForm" ng-if="profile.changePassword">
				  	<div class="form-group">
				    	<label class="col-sm-4 control-label">Текущий пароль:</label>
				    	<div class="col-sm-7">
				      		<input type="password" class="form-control" name="inputCurrentPass" ng-model="profile.objToChangePass.currentPass" required ng-class="{'incorrect-input': passwordForm.inputCurrentPass.$invalid && !passwordForm.inputCurrentPass.$pristine, 'correct-input': passwordForm.inputCurrentPass.$valid && !passwordForm.inputCurrentPass.$pristine}" ng-maxlength="24" ng-minlength="4">
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-4 control-label">Новый пароль:</label>
				    	<div class="col-sm-7">
				      		<input type="password" class="form-control" name="inputNewPassOne" ng-model="profile.objToChangePass.newPassOne" required ng-class="{'incorrect-input': passwordForm.inputNewPassOne.$invalid && !passwordForm.inputNewPassOne.$pristine, 'correct-input': passwordForm.inputNewPassOne.$valid && !passwordForm.inputNewPassOne.$pristine}" ng-maxlength="24" ng-minlength="4">
				    	</div>
				  	</div>
				  	<div class="form-group">
				    	<label class="col-sm-4 control-label">Новый пароль ещё раз:</label>
				    	<div class="col-sm-7">
				      		<input type="password" class="form-control" name="inputNewPassTwo" ng-model="profile.objToChangePass.newPassTwo" required ng-class="{'incorrect-input': passwordForm.inputNewPassTwo.$invalid && !passwordForm.inputNewPassTwo.$pristine, 'correct-input': passwordForm.inputNewPassTwo.$valid && !passwordForm.inputNewPassTwo.$pristine}" ng-maxlength="24" ng-minlength="4">
				    	</div>
				  	</div>
				  	<div class="form-group">
					  	<div class="col-xs-12 error-message">
				            <div class="alert alert-danger toggle" ng-if="profile.errorMessage">
				              	<span><strong>Ошибка!</strong> {{profile.errorMessage}}</span>
				            </div>
				        </div>
			        </div>
				  	<div class="form-group">
				    	<div class="col-sm-5 col-sm-offset-4">
				      		<button type="button" class="btn btn-success pull-left" ng-click="profile.changePass()" ng-disabled="passwordForm.$invalid">Сохранить изменения</button>
				      		<button type="button" class="btn btn-danger pull-right" ng-click="profile.cancelChanges('password')">Отмена</button>
				    	</div>
				  	</div>
				</form>
				<div class="row">
					<div ng-if="profile.changePassSuccess" class="col-xs-12 smooth-change">
					    <div class="alert alert-success extend-property text-center">
					      	<span> <strong>Пароль успешно изменён!</strong></span>
					    </div>
					    <button type="button" class="btn btn-success center-block" ng-click="profile.changePassSuccess = false">Перейти к профилю</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>